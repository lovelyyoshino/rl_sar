# Copyright (c) 2024-2025 Ziqi Fan
# SPDX-License-Identifier: Apache-2.0
# Config for robot_lab trained G1 29DOF model

g1/robot_lab:
  model_name: "policy.pt"  # 修改为你的模型文件名
  num_observations: 96
  observations: ["ang_vel", "gravity_vec", "commands", "dof_pos", "dof_vel", "actions"]
  observations_history: []
  observations_history_priority: "time"
  clip_obs: 100.0
  clip_actions_lower: [-100.0, -100.0, -100.0, -100.0, -100.0, -100.0,
                       -100.0, -100.0, -100.0, -100.0, -100.0, -100.0,
                       -100.0, -100.0, -100.0,
                       -100.0, -100.0, -100.0, -100.0, -100.0, -100.0, -100.0,
                       -100.0, -100.0, -100.0, -100.0, -100.0, -100.0, -100.0]
  clip_actions_upper: [100.0, 100.0, 100.0, 100.0, 100.0, 100.0,
                       100.0, 100.0, 100.0, 100.0, 100.0, 100.0,
                       100.0, 100.0, 100.0,
                       100.0, 100.0, 100.0, 100.0, 100.0, 100.0, 100.0,
                       100.0, 100.0, 100.0, 100.0, 100.0, 100.0, 100.0]
  # PD gains matching robot_lab training (unitree.py)
  # Order: left_leg(6), right_leg(6), waist(3), left_arm(7), right_arm(7)
  rl_kp: [200.0, 150.0, 150.0, 200.0, 20.0, 20.0,
          200.0, 150.0, 150.0, 200.0, 20.0, 20.0,
          200.0, 200.0, 200.0,
          40.0, 40.0, 40.0, 40.0, 40.0, 40.0, 40.0,
          40.0, 40.0, 40.0, 40.0, 40.0, 40.0, 40.0]
  rl_kd: [5.0, 5.0, 5.0, 5.0, 2.0, 2.0,
          5.0, 5.0, 5.0, 5.0, 2.0, 2.0,
          5.0, 5.0, 5.0,
          10.0, 10.0, 10.0, 10.0, 10.0, 10.0, 10.0,
          10.0, 10.0, 10.0, 10.0, 10.0, 10.0, 10.0]
  fixed_kp: [200.0, 150.0, 150.0, 200.0, 20.0, 20.0,
             200.0, 150.0, 150.0, 200.0, 20.0, 20.0,
             200.0, 200.0, 200.0,
             40.0, 40.0, 40.0, 40.0, 40.0, 40.0, 40.0,
             40.0, 40.0, 40.0, 40.0, 40.0, 40.0, 40.0]
  fixed_kd: [5.0, 5.0, 5.0, 5.0, 2.0, 2.0,
             5.0, 5.0, 5.0, 5.0, 2.0, 2.0,
             5.0, 5.0, 5.0,
             10.0, 10.0, 10.0, 10.0, 10.0, 10.0, 10.0,
             10.0, 10.0, 10.0, 10.0, 10.0, 10.0, 10.0]
  num_of_dofs: 29
  # action_scale calculated as 0.25 * effort_limit / stiffness (from robot_lab)
  action_scale: [0.11, 0.147, 0.147, 0.174, 0.625, 0.625,
                 0.11, 0.147, 0.147, 0.174, 0.625, 0.625,
                 0.11, 0.0625, 0.0625,
                 0.156, 0.156, 0.156, 0.156, 0.156, 0.03125, 0.03125,
                 0.156, 0.156, 0.156, 0.156, 0.156, 0.03125, 0.03125]
  wheel_indices: []
  lin_vel_scale: 2.0
  ang_vel_scale: 0.25
  dof_pos_scale: 1.0
  dof_vel_scale: 0.05
  commands_scale: [1.0, 1.0, 1.0]
  torque_limits: [88.0, 88.0, 88.0, 139.0, 50.0, 50.0,
                  88.0, 88.0, 88.0, 139.0, 50.0, 50.0,
                  88.0, 50.0, 50.0,
                  25.0, 25.0, 25.0, 25.0, 25.0, 5.0, 5.0,
                  25.0, 25.0, 25.0, 25.0, 25.0, 5.0, 5.0]
  # default_dof_pos matching robot_lab training (unitree.py init_state)
  default_dof_pos: [-0.312, 0.0, 0.0, 0.669, -0.363, 0.0,
                    -0.312, 0.0, 0.0, 0.669, -0.363, 0.0,
                    0.0, 0.0, 0.0,
                    0.2, 0.2, 0.0, 0.6, 0.0, 0.0, 0.0,
                    0.2, -0.2, 0.0, 0.6, 0.0, 0.0, 0.0]
  # 1:1 mapping - no reordering needed for robot_lab trained models
  joint_mapping: [0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28]
